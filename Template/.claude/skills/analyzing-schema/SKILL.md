---
name: analyzing-schema
description: データベーススキーマの分析・マイグレーション支援。スキーマ、マイグレーション、DBモデル時に使用。
tools: Read, Grep, Glob
---

# Analyzing Schema

データベーススキーマの分析とマイグレーション計画の作成。

## Workflow

- [ ] スキーマファイルを読み取り
- [ ] 既存モデルとリレーションを把握
- [ ] 変更の影響範囲を特定
- [ ] マイグレーション計画を提案

## Key Files

- スキーマ定義ファイル（プロジェクトの ORM に応じて特定）
- マイグレーション履歴ディレクトリ

## Checklist

### スキーマ設計
- [ ] 適切なフィールド型を使用しているか
- [ ] リレーションは正しく定義されているか
- [ ] インデックスは必要な箇所に設定されているか
- [ ] ユニーク制約、デフォルト値は適切か

### マイグレーション
- [ ] 破壊的変更はないか（カラム削除、型変更）
- [ ] データ移行が必要か
- [ ] ロールバック計画はあるか

## Output Format

```markdown
## 現在のスキーマ構造
- モデル一覧とリレーション図

## 変更提案
- 追加/修正するフィールド
- リレーションの変更

## マイグレーション計画
- 実行手順
- 注意点
```
